<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">

    <title>Rock paper scissors</title>

  </head>

  <body>
  <h1>rock paper scissors</h1>

      <p>Choose rock paper or scissors</p>

<div class="section">
 <button id="rock">Rock</button>
 <button id="paper">Paper</button>
 <button id="scissors">Scissors</button>

</div>

<div class="resultParas">
  <p></p>
</div>

</body>

<script>

function playRound(playerSelection, computerSelection) {
    console.log(playerSelection, computerSelection);
    const resultParas = document.querySelector(".resultParas p");
//if the player loses
  if ((playerSelection == "rock" && computerSelection == "paper") || (playerSelection == "scissors" && computerSelection == "rock") || (playerSelection == "paper" && computerSelection == "scissors")){
    losses += 1;
    gameResult = "loss";
    if (losses >= 5 ) {
      resultParas.textContent = "You lost, refresh the page to play again";
    }
    return resultStatement(playerSelection, computerSelection, gameResult);
    }
    //if the player wins
    else if ((playerSelection == "rock" && computerSelection == "scissors") || (playerSelection == "scissors" && computerSelection == "paper") || (playerSelection == "paper" && computerSelection == "rock")){
    wins += 1;
    gameResult = "win";
    if (wins >= 5 ) {
      resultParas.textContent = "You won 5 games! Refresh the page to play again";
    }
    else {
    return resultStatement(playerSelection, computerSelection, gameResult);}
  }
    //if the player ties
    else if (playerSelection == computerSelection){
        ties += 1;
        gameResult = "tie";
        return resultStatement(playerSelection, computerSelection, gameResult);
    
    }



    }
function resultStatement(playerSelection, computerSelection, gameResult){
  const resultParas = document.querySelector(".resultParas p");

  if (gameResult == "win"){
    const winResult =  "You won " + playerSelection + " beats " + computerSelection + " Wins: " + wins + " Losses: " + losses + " Ties: " + ties;
    resultParas.textContent = winResult;
  }
  else if (gameResult == "loss"){
    const winResult =  "You lost " + computerSelection + " beats " + playerSelection + " Wins: " + wins + " Losses: " + losses + " Ties: " + ties;
    resultParas.textContent = winResult;
  }
  else{
    const winResult =   "You tied, you both selected " + computerSelection + " Wins: " + wins + " Losses: " + losses + " Ties: " + ties;
    resultParas.textContent = winResult;
  }
}

  

function getComputerChoice(){
    let choiceArray = [
        "rock",
        "paper",
        "scissors"
    ]
    let randomNumber = Math.floor(Math.random()*choiceArray.length);
    return choiceArray[randomNumber];
}

const buttons = document.querySelectorAll("button");
let playerSelection = "";
let losses = 0;
let wins = 0;
let ties = 0;
let gameResult = "";
buttons.forEach(button => {
  button.addEventListener('click', (e) => {
    let playerSelection = e.target.id;
    console.log(wins, losses);
    const computerSelection = getComputerChoice();
    return playRound(playerSelection, computerSelection);
 });
});





</script>
</html>